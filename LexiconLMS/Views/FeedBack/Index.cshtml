@model IEnumerable<LexiconLMS.Models.FeedBackMessage>

@*@{
        ViewBag.Title = "Index";
    }*@
<div class="chat" id="chatDiv">
    <div class="chat-history">
        <ul class="chat-ul">
            @foreach (var message in Model)
            {
                <li>
                    <div class="message-data @((message.User.UserName == User.Identity.Name)? "align-right" : "")">
                        <span class="message-data-name">
                            <i class="glyphicon glyphicon-one-fine-dot-@((message.User.UserName == User.Identity.Name)? "other" : "you")"></i>
                        </span>
                        @Html.DisplayFor(x => message.User.FullName)
                    </div>
                    <div class="message @((message.User.UserName == User.Identity.Name)? "me-message float-right" : "you-message")">
                        <pre>@Html.DisplayFor(x => message.Message)</pre>
                    </div>
                </li>
            }
        </ul>
    </div>
</div>

@*<table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Feedback.ApplicationUserId)
            </th>
            <th>
                Lärare
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Message)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PostedTime)
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model.OrderBy(x => x.Feedback.Student.LastName ).ThenByDescending(x => x.PostedTime)) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Feedback.Student.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.User.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Message)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.PostedTime)
            </td>
            <td>
                @Html.ActionLink("Redigera", "Edit", new { id = item.Id, userId = ViewBag.userId, activityId = ViewBag.activityId }) |
                @Html.ActionLink("Detaljer", "Details", new { id=item.Id, userId = ViewBag.userId, activityId = ViewBag.activityId }) |
                @Html.ActionLink("Ta bort", "Delete", new { id=item.Id, userId = ViewBag.userId, activityId = ViewBag.activityId })
            </td>
        </tr>
    }

    </table>*@
